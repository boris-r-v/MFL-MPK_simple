# MFL-MPK_simple
Модем работающий по 2-х проводной физической линии связи на базе микросхемы FX604D4 - V23 совместимым модемом

**Задачи**
        
        Принять пакет данных по кодовой линии RS-232/485 и переслать этот пакет данных по физической линии
        Приянть пакет из физической линии и переслать на последовательный интерфейс RS-232/485
        
*Информация от уволившегося разработчика*

        MFL-MPK_simple

        Модем по RS-232 и RS-485 может работать на 4 скоростях: 19200, 38400, 57600, 115200. Скорость задается двумя битами на переключателе (вроде 7 и 8 переключатели). Остальные 6 переключателей – адрес модема. RS-232 и RS-485 работают одновременно.

        Запрос адреса: в RS-232 двумя байтами – 0x14, 0xFF. Ответ, два байта: 0xEB, 0x(адрес).

        Формат кадра на линии: 
            1) Заголовок (4 байта): 0x55, 0x(ст. байт размера данных), 0x(мл. байт размера данных), 0x(CRC8 заголовка)
            2) Данные из RS-485 и RS-232.

            В проекте гитигнор неправильно прописан, поэтому куча мусора. Зато в MFL-MPK_simple/dist/default/production есть hex-файл, он должен быть рабочим. Можно им прошить модем и проверить на стенде.

            Насчет коэф. усиления в линии. В его регулировке смысла не увидел, на макете линии в довольно больших диапазонах ее длины норм работает (до 8 км смотрел при самой плохой линии). Можно еще раз испытать. Сори, не помню и никуда не записал, какой поставил резистор (который задает коэф усил) на промышленной. Вроде 10 (или 100) кОм. Лучше проверить.

            Сама прошивка работает по принципу: от прерывания запускается процесс приема из линии (RS) и после приема сразу передается в RS (линию). line_to_RS и RS_to_line соответственно.

            Прошу еще раз проверить работу.
